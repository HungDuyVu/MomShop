<app-header></app-header>
<div class="profile">
  <div class="container">
    <div class="header mb-3">
      <h5>Hồ sơ của tôi</h5>
      <p>Quản lý thông tin hồ sơ để bảo mật tài khoản</p>
    </div>
    <hr>
    <div class="information">
      <!-- Tên đăng nhập -->
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="username" class="color-text">Tên đăng nhập</label>
        <input type="text" class="input text-secondary" name="fullName" [(ngModel)]="user.fullName">
      </div>

      <!-- Giới tính -->
      <div class="d-flex align-items-baseline" style="width: 55%;">
        <label for="gender" class="color-text">Giới tính</label>
        <div class="d-flex justify-content-between align-items-baseline" style="margin-left:80px;width:30%">
          <label class="text-secondary">Nam</label>
          <input type="radio" class="input-radio mb-4" name="gender" value="Nam" [(ngModel)]="user.gender">
          <label class="text-secondary">Nữ</label>
          <input type="radio" class="input-radio mb-4" name="gender" value="Nữ" [(ngModel)]="user.gender">
        </div>
      </div>

      <!-- Địa chỉ -->
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="address" class="color-text">Địa chỉ</label>
        <input type="text" class="input" name="address" [(ngModel)]="user.address">
      </div>

      <!-- Quận/Huyện -->
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="district" class="color-text">Quận/Huyện</label>
        <input type="text" class="input" name="district" [(ngModel)]="user.district">
      </div>

      <!-- Thành phố -->
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="province" class="color-text">Thành phố</label>
        <input type="text" class="input" name="province" [(ngModel)]="user.province">
      </div>

      <!-- Số điện thoại -->
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="phone" class="color-text">Số điện thoại</label>
        <input type="text" class="input text-secondary" name="phone" [(ngModel)]="user.phone">
      </div>

      <!-- Ngày sinh -->
      <div class="d-flex align-items-baseline" style="width: 55%;">
        <label for="birthDay" class="color-text" style="margin-right: 60px;">Ngày sinh</label>
        <p-calendar [(ngModel)]="user.birthDay" name="birthDay" dateFormat="dd/mm/yy"></p-calendar>
      </div>

      <!-- Nút lưu thông tin -->
      <div class="button-group">
        <button class="save-info mr-2" (click)="saveProfile()">Lưu</button>
        <button class="change-password-btn ml-4" (click)="toggleChangePasswordForm()">Đổi mật khẩu</button>
      </div>
      
    </div>

    <!-- Form đổi mật khẩu -->
    <div class="change-password" *ngIf="showChangePasswordForm">
      <h5>Đổi mật khẩu</h5>
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="email" class="color-text">Email</label>
        <input type="text" class="input text-secondary" [(ngModel)]="user.email" name="email" readonly>
      </div>
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="oldPassword" class="color-text">Mật khẩu cũ</label>
        <input type="password" class="input" name="oldPassword" [(ngModel)]="changePasswordDto.password">
      </div>
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <label for="newPassword" class="color-text">Mật khẩu mới</label>
        <input type="password" class="input" name="newPassword" [(ngModel)]="changePasswordDto.newPassword">
      </div>
      <div class="d-flex justify-content-between align-items-baseline" style="width: 55%;">
        <button class="save-info" (click)="changePassword()">Lưu mật khẩu mới</button>
        <button class="cancel-info" (click)="cancelChangePassword()">Hủy</button>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>